!function(){"use strict";var e={n:function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,{a:o}),o},d:function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=jQuery,o=e.n(t);const n=e=>e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;let i=o(),r=o(),c=r(window),a={contentType:"application/json",placement:"popup-modal",format:"html",post_info:{}};const s=()=>{let e=document.querySelector('.courier-notices.courier-location-popup-modal[data-courier-ajax="true"]'),t=[];if(!e)return;void 0!==courier_notices_data.post_info&&(a.post_info=courier_notices_data.post_info);let o=n("dismissed_notices");o=JSON.parse(o),o=o||[],r.ajax({method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)},url:courier_notices_data.notices_endpoint,data:a}).done((function(e){if(e.notices){for(let n in e.notices)-1===o.indexOf(parseInt(n))&&t.push(e.notices[n]);t.length>0&&(window.courier_notices_modal_notices=t,d(0))}}))};function d(e){let t=r(window.courier_notices_modal_notices[e]);t.hide(),t.length<1||(r('.courier-notices[data-courier-placement="'+a.placement+'"] .courier-modal-overlay').append(t),r(".courier-modal-overlay").removeClass("hide").show(),t.slideDown("fast"),window.courier_notices_modal_notices.splice(e,1))}let u=o();function l(){function e(e){u(".courier_notice[data-courier-notice-id='"+e+"']").fadeOut(500,(function(){0===window.courier_notices_modal_notices.length?u(".courier-modal-overlay").addClass("hide").hide():d(0)})),function(e){let t=n("dismissed_notices");t=JSON.parse(t),t=t||[],-1===t.indexOf(e)&&t.push(e),((e,t,o,n,i,r)=>{if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;n||(n="/");let c="";if(o)switch(o.constructor){case Number:c=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:c="; expires="+o;break;case Date:c="; expires="+o.toUTCString()}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+c+(i?"; domain="+i:"")+(n?"; path="+n:"")+(r?"; secure":"")})("dismissed_notices",JSON.stringify(t))}(e)}u("body").on("click",".courier-close, .trigger-close",(function(t){let o=u(this),n=o.attr("href");if(!0!==o.data("dismiss")){t.preventDefault(),t.stopPropagation(),o.data("dismiss",!0);let i=o.parents(".courier-notice"),r=parseInt(i.data("courier-notice-id"),10);if(0===i.length||isNaN(r))return;courier_notices_data.user_id&&courier_notices_data.user_id>0?(u.post({url:courier_notices_data.notice_endpoint+r+"/dismiss",data:{dismiss_nonce:courier_notices_data.dismiss_nonce,user_id:courier_notices_data.user_id},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)}}).done((function(){e(r)})),n&&"#"!==n&&u(document).ajaxComplete((function(e,t,o){window.location=n}))):(e(r),n&&"#"!==n&&(window.location=n))}}))}o()((function(){var e;e=function(){let e=i('.courier-notices[data-courier-ajax="true"]');if(e.attr("data-loaded",!1),0===e.length)return;let t=document.querySelectorAll('.courier-notices:not(.courier-location-popup-modal)[data-courier-ajax="true"]'),o=new IntersectionObserver((function(e,t){e.forEach((function(e){if(1===e.intersectionRatio&&"false"===e.target.getAttribute("data-loaded")){let t={contentType:"application/json",placement:e.target.getAttribute("data-courier-placement"),format:"html",post_info:{},user_id:"0"!==courier_notices_data.user_id?courier_notices_data.user_id:""};void 0!==courier_notices_data.post_info&&(t.post_info=courier_notices_data.post_info);let o=n("dismissed_notices");o=JSON.parse(o),o=o||[],i.ajax({method:"GET",beforeSend:function(e){"0"!==courier_notices_data.user_id&&e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)},url:courier_notices_data.notices_endpoint,data:t}).success((function(e){e.notices&&i.each(e.notices,(function(n){if(-1!==o.indexOf(parseInt(n)))return;let r=i(e.notices[n]).hide();i('.courier-notices[data-courier-placement="'+t.placement+'"]').append(r),r.slideDown("fast","swing",(function(){const e=new CustomEvent("courierNoticeDisplayed",{detail:n});document.dispatchEvent(e)}))}))})),e.target.setAttribute("data-loaded",!0)}}))}),{threshold:1});Array.prototype.forEach.call(t,(function(e){o.observe(e)}))},"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e),l(),c.on("load",s)}))}();