!function(){"use strict";var e,t,o,n,i,r={134:function(e,t,o){o.d(t,{A:function(){return s}});var n=o(428),i=o.n(n),r=o(570),c=o(223);let a=i();function s(){function e(e){a(".courier_notice[data-courier-notice-id='"+e+"']").fadeOut(500,(function(){0===window.courier_notices_modal_notices.length?a(".courier-modal-overlay").addClass("hide").hide():(0,c.K)(0)})),function(e){let t=(0,r.Gq)("dismissed_notices");t=JSON.parse(t),t=t||[],-1===t.indexOf(e)&&t.push(e),(0,r.SO)("dismissed_notices",JSON.stringify(t))}(e)}a("body").on("click",".courier-close, .trigger-close",(function(t){let o=a(this),n=o.attr("href");if(!0!==o.data("dismiss")){t.preventDefault(),t.stopPropagation(),o.data("dismiss",!0);let i=o.parents(".courier-notice"),r=parseInt(i.data("courier-notice-id"),10);if(0===i.length||isNaN(r))return;courier_notices_data.user_id&&courier_notices_data.user_id>0?(a.post({url:courier_notices_data.notice_endpoint+r+"/dismiss",data:{dismiss_nonce:courier_notices_data.dismiss_nonce,user_id:courier_notices_data.user_id},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)}}).done((function(){e(r)})),n&&"#"!==n&&a(document).ajaxComplete((function(e,t,o){window.location=n}))):(e(r),n&&"#"!==n&&(window.location=n))}}))}},223:function(e,t,o){o.d(t,{K:function(){return u}});var n=o(428),i=o.n(n),r=o(570);let c=i(),a=(c(window),{contentType:"application/json",placement:"popup-modal",format:"html",post_info:{}});const s=()=>{setTimeout((()=>{d()}),"500")},d=()=>{let e=document.querySelector('.courier-notices.courier-location-popup-modal[data-courier-ajax="true"]'),t=[];if(!e)return;void 0!==courier_notices_data.post_info&&(a.post_info=courier_notices_data.post_info);let o=(0,r.Gq)("dismissed_notices");o=JSON.parse(o),o=o||[],c.ajax({method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)},url:courier_notices_data.notices_endpoint,data:a}).done((function(e){if(e.notices){for(let n in e.notices)-1===o.indexOf(parseInt(n))&&t.push(e.notices[n]);t.length>0&&(window.courier_notices_modal_notices=t,u(0))}}))};function u(e){let t=c(window.courier_notices_modal_notices[e]);t.hide(),t.length<1||(c('.courier-notices[data-courier-placement="'+a.placement+'"] .courier-modal-overlay').append(t),c(".courier-modal-overlay").removeClass("hide").show(),t.slideDown("fast"),window.courier_notices_modal_notices.splice(e,1))}t.A=()=>{"complete"===document.readyState?s():window.addEventListener("load",s)}},259:function(e,t,o){o.d(t,{A:function(){return a}});var n=o(428),i=o.n(n),r=o(570);let c=i();function a(){var e;e=function(){let e=c('.courier-notices[data-courier-ajax="true"]');if(e.attr("data-loaded",!1),0===e.length)return;let t=document.querySelectorAll('.courier-notices:not(.courier-location-popup-modal)[data-courier-ajax="true"]'),o=new IntersectionObserver((function(e,t){e.forEach((function(e){if(1===e.intersectionRatio&&"false"===e.target.getAttribute("data-loaded")){let t={contentType:"application/json",placement:e.target.getAttribute("data-courier-placement"),format:"html",post_info:{},user_id:"0"!==courier_notices_data.user_id?courier_notices_data.user_id:""};void 0!==courier_notices_data.post_info&&(t.post_info=courier_notices_data.post_info);let o=(0,r.Gq)("dismissed_notices");o=JSON.parse(o),o=o||[],c.ajax({method:"GET",beforeSend:function(e){"0"!==courier_notices_data.user_id&&e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)},url:courier_notices_data.notices_endpoint,data:t}).success((function(e){e.notices&&c.each(e.notices,(function(n){if(-1!==o.indexOf(parseInt(n)))return;let i=c(e.notices[n]).hide();c('.courier-notices[data-courier-placement="'+t.placement+'"]').append(i),i.slideDown("fast","swing",(function(){const e=new CustomEvent("courierNoticeDisplayed",{detail:n});document.dispatchEvent(e)}))}))})),e.target.setAttribute("data-loaded",!0)}}))}),{threshold:1});Array.prototype.forEach.call(t,(function(e){o.observe(e)}))},"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}},428:function(e){e.exports=window.jQuery},570:function(e,t,o){o.d(t,{Gq:function(){return n},SO:function(){return i}});const n=e=>e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,i=(e,t,o,n,i,r)=>{if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;n||(n="/");let c="";if(o)switch(o.constructor){case Number:c=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:c="; expires="+o;break;case Date:c="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+c+(i?"; domain="+i:"")+(n?"; path="+n:"")+(r?"; secure":""),!0}}},c={};function a(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={exports:{}};return r[e](o,o.exports,a),o.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e=a(428),t=a.n(e),o=a(259),n=a(134),i=a(223),t()((function(){(0,o.A)(),(0,n.A)(),(0,i.A)()}))}();