!function(){"use strict";var e,t,o,n={134:function(e,t,o){o.d(t,{A:function(){return c}});var n=o(570),i=o(223);const r=jQuery;function c(){function e(e){r(".courier_notice[data-courier-notice-id='"+e+"']").fadeOut(500,(function(){0===window.courier_notices_modal_notices.length?r(".courier-modal-overlay").addClass("hide").hide():(0,i.K)(0)})),function(e){let t=(0,n.Gq)("dismissed_notices");t=JSON.parse(t),t=t||[],-1===t.indexOf(e)&&t.push(e),(0,n.SO)("dismissed_notices",JSON.stringify(t))}(e)}r("body").on("click",".courier-close, .trigger-close",(function(t){let o=r(this),n=o.attr("href");if(!0!==o.data("dismiss")){t.preventDefault(),t.stopPropagation(),o.data("dismiss",!0);let i=o.parents(".courier-notice"),c=parseInt(i.data("courier-notice-id"),10);if(0===i.length||isNaN(c))return;courier_notices_data.user_id&&courier_notices_data.user_id>0?(r.post({url:courier_notices_data.notice_endpoint+c+"/dismiss",data:{dismiss_nonce:courier_notices_data.dismiss_nonce,user_id:courier_notices_data.user_id},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)}}).done((function(){e(c)})),n&&"#"!==n&&r(document).ajaxComplete((function(e,t,o){window.location=n}))):(e(c),n&&"#"!==n&&(window.location=n))}}))}},223:function(e,t,o){o.d(t,{K:function(){return s}});var n=o(570);let i=jQuery,r=(i(window),{contentType:"application/json",placement:"popup-modal",format:"html",post_info:{}});const c=()=>{setTimeout((()=>{a()}),"500")},a=()=>{let e=document.querySelector('.courier-notices.courier-location-popup-modal[data-courier-ajax="true"]'),t=[];if(!e)return;void 0!==courier_notices_data.post_info&&(r.post_info=courier_notices_data.post_info);let o=(0,n.Gq)("dismissed_notices");o=JSON.parse(o),o=o||[],i.ajax({method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)},url:courier_notices_data.notices_endpoint,data:r}).done((function(e){if(e.notices){for(let n in e.notices)-1===o.indexOf(parseInt(n))&&t.push(e.notices[n]);t.length>0&&(window.courier_notices_modal_notices=t,s(0))}}))};function s(e){let t=i(window.courier_notices_modal_notices[e]);t.hide(),t.length<1||(i('.courier-notices[data-courier-placement="'+r.placement+'"] .courier-modal-overlay').append(t),i(".courier-modal-overlay").removeClass("hide").show(),t.slideDown("fast"),window.courier_notices_modal_notices.splice(e,1))}t.A=()=>{"complete"===document.readyState?c():window.addEventListener("load",c)}},259:function(e,t,o){o.d(t,{A:function(){return r}});var n=o(570);let i=jQuery;function r(){var e;e=function(){let e=i('.courier-notices[data-courier-ajax="true"]');if(e.attr("data-loaded",!1),0===e.length)return;let t=document.querySelectorAll('.courier-notices:not(.courier-location-popup-modal)[data-courier-ajax="true"]'),o=new IntersectionObserver((function(e,t){e.forEach((function(e){if(1===e.intersectionRatio&&"false"===e.target.getAttribute("data-loaded")){let t={contentType:"application/json",placement:e.target.getAttribute("data-courier-placement"),format:"html",post_info:{},user_id:"0"!==courier_notices_data.user_id?courier_notices_data.user_id:""};void 0!==courier_notices_data.post_info&&(t.post_info=courier_notices_data.post_info);let o=(0,n.Gq)("dismissed_notices");o=JSON.parse(o),o=o||[],i.ajax({method:"GET",beforeSend:function(e){"0"!==courier_notices_data.user_id&&e.setRequestHeader("X-WP-Nonce",courier_notices_data.wp_rest_nonce)},url:courier_notices_data.notices_endpoint,data:t}).success((function(e){e.notices&&i.each(e.notices,(function(n){if(-1!==o.indexOf(parseInt(n)))return;let r=i(e.notices[n]).hide();i('.courier-notices[data-courier-placement="'+t.placement+'"]').append(r),r.slideDown("fast","swing",(function(){const e=new CustomEvent("courierNoticeDisplayed",{detail:n});document.dispatchEvent(e)}))}))})),e.target.setAttribute("data-loaded",!0)}}))}),{threshold:1});Array.prototype.forEach.call(t,(function(e){o.observe(e)}))},"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}},570:function(e,t,o){o.d(t,{Gq:function(){return n},SO:function(){return i}});const n=e=>e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,i=(e,t,o,n,i,r)=>{if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;n||(n="/");let c="";if(o)switch(o.constructor){case Number:c=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:c="; expires="+o;break;case Date:c="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+c+(i?"; domain="+i:"")+(n?"; path="+n:"")+(r?"; secure":""),!0}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return n[e](o,o.exports,r),o.exports}r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e=r(259),t=r(134),o=r(223),jQuery((function(){(0,e.A)(),(0,t.A)(),(0,o.A)()}))}();